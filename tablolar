CREATE TABLE "vatandas"."Vatandas" ( 
    "vatandasId" SERIAL NOT NULL,
	"tcKimlikNo" BIGINT NOT NULL,
	"ad" VARCHAR(50) NOT NULL,
    "soyad" VARCHAR(50) NOT NULL,
	"adres" TEXT NOT NULL,  --text sınırsızdır
	
	CONSTRAINT "vatandasUnique" UNIQUE ("tcKimlikNo"),
	CONSTRAINT "vatandasPK" PRIMARY KEY ("vatandasId"),
	CONSTRAINT "tcHaneKontrol" CHECK ("tcKimlikNo" >= 10000000000 AND "tcKimlikNo" <= 99999999999)
);

CREATE TABLE "vatandas"."Personel" (
    "personelId" INT NOT NULL,  --hem pk hem de fk olur, vatandasId'den alır'
    "gorevTuru" VARCHAR(50) NOT NULL,
    "unvan" VARCHAR(50),
    "sicilNo" VARCHAR(20) NOT NULL,
    
    CONSTRAINT "personelPK" PRIMARY KEY ("personelId"),
    CONSTRAINT "personelSicilUnique" UNIQUE ("sicilNo"),
    
    CONSTRAINT "personelFK" FOREIGN KEY ("personelId") 
        REFERENCES "vatandas"."Vatandas" ("vatandasId")
        ON DELETE CASCADE
);

CREATE TABLE "vatandas"."Doktor" (
    "doktorId" INT NOT NULL,
    "uzmanlikAlani" VARCHAR(100) NOT NULL,
   
    CONSTRAINT "doktorPK" PRIMARY KEY ("doktorId"),
   
    CONSTRAINT "doktorFk" FOREIGN KEY ("doktorId") 
        REFERENCES "vatandas"."Personel" ("personelId") 
        ON DELETE CASCADE
);
